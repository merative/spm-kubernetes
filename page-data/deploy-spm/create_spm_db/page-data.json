{"componentChunkName":"component---src-pages-deploy-spm-create-spm-db-mdx","path":"/deploy-spm/create_spm_db/","result":{"pageContext":{"frontmatter":{"title":"Creating the SPM database","description":"Creating the SPM database"},"relativePagePath":"/deploy-spm/create_spm_db.mdx","titleType":"page","MdxNode":{"id":"fe3c107a-cd5f-5fc7-835f-0e475ad4425c","children":[],"parent":"d6b7e8eb-4ba4-5d68-affd-3590fcef3cc7","internal":{"content":"---\ntitle: Creating the SPM database\ndescription: Creating the SPM database\n---\n\nThe following database configuration is an example for Merative Social Program Management (SPM) development environments.\nConsult your database administrator for optimum performance and security settings.\n\n## Database encryption\n\nYou can implement either Db2 or Oracle as your database, however you must encrypt your Database.\nFor more information on encrypting Db2 databases, see [Db2 native encryption](https://www.ibm.com/docs/en/db2/11.5?topic=rest-db2-native-encryption).\nFor more information on encrypting Oracle databases, see [Part I Using Transparent Data Encryption](https://docs.oracle.com/en/database/oracle/oracle-database/19/asoag/asopart1.html).\n\n## Db2\n\nIf necessary, create a database by using the Db2 user to run the following commands:\n\n<Tabs>\n\n<Tab label=\"Mac/Linux\">\n<Row>\n<Column>\n\n```shell\ncd $SERVER_DIR\n./build.sh -f $CURAMSDEJ/util/db2_createdb.xml\n./build.sh -f $CURAMSDEJ/util/db2_postconfig.xml -Ddb2.dir=$DB2_HOME\n./build.sh -f $CURAMSDEJ/util/db2_createdb.xml restart.db2\n```\n\n</Column>\n</Row>\n</Tab>\n\n<Tab label=\"Windows DOS\">\n<Row>\n<Column>\n\n```bat\ncd %SERVER_DIR%\nbuild.bat -f %CURAMSDEJ%\\util\\db2_createdb.xml\nbuild.bat -f %CURAMSDEJ%\\util\\db2_postconfig.xml -Ddb2.dir=%DB2_HOME%\nbuild.bat -f %CURAMSDEJ%\\util\\db2_createdb.xml restart.db2\n```\n\n</Column>\n</Row>\n</Tab>\n\n</Tabs>\n\nIf you are installing a new Db2 database, ensure that your log configuration is correctly configured.\nFor example, to specify circular logging for a database named `CURAM`, run the following command:\n\n```shell\ndb2 update db cfg for CURAM using logfilsiz 1024 logprimary 50 logsecond 30\n```\n\nIf you do not run the update command, the default Db2 configuration causes the database build to fail.\n\n## Oracle Database\n\nIf necessary, create a database by using the Oracle user to run the following commands:\n\n```shell\ncd $ORACLE_HOME\nexport ORA_GLOBAL_NAME=orcl\nexport ORA_SID=orcl\nexport ORA_ADMIN_PASS=Passw0rd1\n./bin/dbca  -silent -createdatabase \\\n            -templatename General_Purpose.dbc \\\n            -gdbname $ORA_GLOBAL_NAME \\\n            -sid $ORA_SID \\\n            -syspassword $ORA_ADMIN_PASS \\\n            -systempassword $ORA_ADMIN_PASS \\\n            -storageType FS \\\n            -datafileDestination $ORACLE_BASE/oradata \\\n            -emConfiguration NONE \\\n            -characterSet AL32UTF8 \\\n            -memoryPercentage 40 \\\n            -initParams processes=1500\n```\n\nThe application needs certain privileges to use the Oracle XA interface.\nLater, when you configure the application, the user name under which the server connects to Oracle is specified. You must assign appropriate privileges to this user name for the server to work successfully.\n\nThe following commands create a role that is called `CURAM_SERVER` and give it the necessary privileges. A user named `CURAM_USER` is then assigned that role and given the password `PASSWORD`.\nYou must run the commands from a SQLPlus terminal, which can be opened with `sqlplus ?/? as SYSDBA`.\n\n```sql\nCREATE ROLE \"CURAM_SERVER\";\nGRANT RESOURCE TO \"CURAM_SERVER\";\n@$ORACLE_HOME/rdbms/admin/xaview.sql\nGRANT SELECT ON V$XATRANS$ TO PUBLIC;\nGRANT SELECT ON PENDING_TRANS$ TO PUBLIC;\nGRANT SELECT ON DBA_2PC_PENDING TO PUBLIC;\nGRANT SELECT ON DBA_PENDING_TRANSACTIONS TO PUBLIC;\nGRANT EXECUTE ON DBMS_SYSTEM TO CURAM_SERVER;\nCREATE USER CURAM_USER IDENTIFIED BY PASSWORD DEFAULT TABLESPACE \"USERS\" TEMPORARY TABLESPACE \"TEMP\";\nGRANT \"CONNECT\", \"CURAM_SERVER\", UNLIMITED TABLESPACE TO CURAM_USER;\nALTER SYSTEM SET \"_optimizer_ansi_join_lateral_enhance\"=false;\nALTER SYSTEM SET DDL_LOCK_TIMEOUT=30;\nALTER SYSTEM SET NLS_LENGTH_SEMANTICS=\"CHAR\";\n```\n","type":"Mdx","contentDigest":"5bc7130402603ed0e1a383beb881cf0a","owner":"gatsby-plugin-mdx","counter":168},"frontmatter":{"title":"Creating the SPM database","description":"Creating the SPM database"},"exports":{},"rawBody":"---\ntitle: Creating the SPM database\ndescription: Creating the SPM database\n---\n\nThe following database configuration is an example for Merative Social Program Management (SPM) development environments.\nConsult your database administrator for optimum performance and security settings.\n\n## Database encryption\n\nYou can implement either Db2 or Oracle as your database, however you must encrypt your Database.\nFor more information on encrypting Db2 databases, see [Db2 native encryption](https://www.ibm.com/docs/en/db2/11.5?topic=rest-db2-native-encryption).\nFor more information on encrypting Oracle databases, see [Part I Using Transparent Data Encryption](https://docs.oracle.com/en/database/oracle/oracle-database/19/asoag/asopart1.html).\n\n## Db2\n\nIf necessary, create a database by using the Db2 user to run the following commands:\n\n<Tabs>\n\n<Tab label=\"Mac/Linux\">\n<Row>\n<Column>\n\n```shell\ncd $SERVER_DIR\n./build.sh -f $CURAMSDEJ/util/db2_createdb.xml\n./build.sh -f $CURAMSDEJ/util/db2_postconfig.xml -Ddb2.dir=$DB2_HOME\n./build.sh -f $CURAMSDEJ/util/db2_createdb.xml restart.db2\n```\n\n</Column>\n</Row>\n</Tab>\n\n<Tab label=\"Windows DOS\">\n<Row>\n<Column>\n\n```bat\ncd %SERVER_DIR%\nbuild.bat -f %CURAMSDEJ%\\util\\db2_createdb.xml\nbuild.bat -f %CURAMSDEJ%\\util\\db2_postconfig.xml -Ddb2.dir=%DB2_HOME%\nbuild.bat -f %CURAMSDEJ%\\util\\db2_createdb.xml restart.db2\n```\n\n</Column>\n</Row>\n</Tab>\n\n</Tabs>\n\nIf you are installing a new Db2 database, ensure that your log configuration is correctly configured.\nFor example, to specify circular logging for a database named `CURAM`, run the following command:\n\n```shell\ndb2 update db cfg for CURAM using logfilsiz 1024 logprimary 50 logsecond 30\n```\n\nIf you do not run the update command, the default Db2 configuration causes the database build to fail.\n\n## Oracle Database\n\nIf necessary, create a database by using the Oracle user to run the following commands:\n\n```shell\ncd $ORACLE_HOME\nexport ORA_GLOBAL_NAME=orcl\nexport ORA_SID=orcl\nexport ORA_ADMIN_PASS=Passw0rd1\n./bin/dbca  -silent -createdatabase \\\n            -templatename General_Purpose.dbc \\\n            -gdbname $ORA_GLOBAL_NAME \\\n            -sid $ORA_SID \\\n            -syspassword $ORA_ADMIN_PASS \\\n            -systempassword $ORA_ADMIN_PASS \\\n            -storageType FS \\\n            -datafileDestination $ORACLE_BASE/oradata \\\n            -emConfiguration NONE \\\n            -characterSet AL32UTF8 \\\n            -memoryPercentage 40 \\\n            -initParams processes=1500\n```\n\nThe application needs certain privileges to use the Oracle XA interface.\nLater, when you configure the application, the user name under which the server connects to Oracle is specified. You must assign appropriate privileges to this user name for the server to work successfully.\n\nThe following commands create a role that is called `CURAM_SERVER` and give it the necessary privileges. A user named `CURAM_USER` is then assigned that role and given the password `PASSWORD`.\nYou must run the commands from a SQLPlus terminal, which can be opened with `sqlplus ?/? as SYSDBA`.\n\n```sql\nCREATE ROLE \"CURAM_SERVER\";\nGRANT RESOURCE TO \"CURAM_SERVER\";\n@$ORACLE_HOME/rdbms/admin/xaview.sql\nGRANT SELECT ON V$XATRANS$ TO PUBLIC;\nGRANT SELECT ON PENDING_TRANS$ TO PUBLIC;\nGRANT SELECT ON DBA_2PC_PENDING TO PUBLIC;\nGRANT SELECT ON DBA_PENDING_TRANSACTIONS TO PUBLIC;\nGRANT EXECUTE ON DBMS_SYSTEM TO CURAM_SERVER;\nCREATE USER CURAM_USER IDENTIFIED BY PASSWORD DEFAULT TABLESPACE \"USERS\" TEMPORARY TABLESPACE \"TEMP\";\nGRANT \"CONNECT\", \"CURAM_SERVER\", UNLIMITED TABLESPACE TO CURAM_USER;\nALTER SYSTEM SET \"_optimizer_ansi_join_lateral_enhance\"=false;\nALTER SYSTEM SET DDL_LOCK_TIMEOUT=30;\nALTER SYSTEM SET NLS_LENGTH_SEMANTICS=\"CHAR\";\n```\n","fileAbsolutePath":"/home/runner/work/spm-kubernetes/spm-kubernetes/src/pages/deploy-spm/create_spm_db.mdx"}}},"staticQueryHashes":["1364590287","137577622","2102389209","2456312558","2746626797","3018647132","3037994772","56986546","768070550"]}